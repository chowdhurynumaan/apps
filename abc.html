<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthcare Digital Transformation Deck</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 1. Font: Set the document default font to 'Inter' */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        :root {
            font-family: 'Inter', sans-serif;
        }

        /* 2. Card Layout and Sizing: 16:9 Aspect Ratio Container */
        #presentation-container {
            width: 90vw; /* Adjust width to fit screen better on various sizes */
            max-width: 1200px; /* Max size for large screens */
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio (9 / 16 = 0.5625) */
            height: 0;
        }
        /* 2. Card Element: Must use position: absolute; to fill the aspect-ratio container */
        #presentation-card {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="bg-gray-50 flex flex-col items-center justify-center min-h-screen p-4">

    <div id="presentation-container" class="mt-8">
        <div id="presentation-card" class="rounded-2xl shadow-2xl overflow-hidden border-4">
            </div>
    </div>

    <div class="flex space-x-4 mt-8">
        <button id="prev-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition duration-150 disabled:opacity-50" disabled>
            ‚Üê Previous
        </button>
        <button id="next-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition duration-150">
            Next ‚Üí
        </button>
        <button id="export-btn" class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-2 px-4 rounded-lg transition duration-150 disabled:opacity-50" disabled>
            üñºÔ∏è Export Slide
        </button>
    </div>

    <p id="slide-indicator" class="mt-4 text-sm text-gray-600"></p>

    <script>
        // 3. JavaScript Data: Presentation Content
        const slides = [
            // Problem Slides (id < 7)
            {
                id: 1,
                title: "The Lagging Legacy of Healthcare",
                subtitle: "The **challenges** holding back modern patient care.",
                icon: "TrendingDown",
                points: [
                    "**Fragmented Patient Data**: Records are siloed across systems, leading to incomplete patient views and errors.",
                    "**Administrative Burden**: High overhead from manual processes like billing and scheduling reduces time for patient-facing care.",
                    "**Access Disparities**: Geographic and economic barriers prevent many from receiving timely, quality specialist care.",
                    "**Reactive Care Models**: Healthcare often focuses on treating illness after it occurs, rather than prevention and predictive insights."
                ],
                color: 'text-red-600'
            },
            {
                id: 2,
                title: "Data Silos & Interoperability",
                subtitle: "Why is patient data so hard to **share**?",
                icon: "TrendingDown",
                points: [
                    "**Proprietary Systems**: Many hospital IT systems use non-standard, closed data formats.",
                    "**Security & Privacy**: Strict regulatory requirements (**HIPAA**) complicate cross-organizational data exchange.",
                    "**Lack of Standards**: The industry is slow to universally adopt common data exchange protocols (e.g., **FHIR**).",
                    "**High Integration Costs**: Connecting disparate systems requires significant time and financial investment."
                ],
                color: 'text-red-600'
            },
            {
                id: 3,
                title: "The Crisis of Burnout",
                subtitle: "How **manual tasks** are hurting clinicians.",
                icon: "TrendingDown",
                points: [
                    "**EHR Overload**: Physicians spend up to 49% of their time on Electronic Health Records (EHRs).",
                    "**Documentation Fatigue**: Extensive, non-standardized required notes detract from clinical focus.",
                    "**Staff Shortages**: High turnover and insufficient staffing compound the workload for remaining personnel.",
                    "**Alarm Fatigue**: Excessive alerts and notifications in hospitals can lead to missed critical warnings."
                ],
                color: 'text-orange-600'
            },
            {
                id: 4,
                title: "Inefficiencies in Drug Development",
                subtitle: "The **high cost** and **slow pace** of R&D.",
                icon: "TrendingDown",
                points: [
                    "**Long Cycle Times**: Developing a new drug often takes over a decade and costs billions of dollars.",
                    "**Patient Recruitment**: Finding and enrolling eligible participants for clinical trials is a major bottleneck.",
                    "**High Failure Rates**: Up to 90% of drug candidates fail during clinical trials.",
                    "**Data Management Complexity**: Handling massive, diverse datasets from genomics and trials is a slow, manual process."
                ],
                color: 'text-red-600'
            },
            // Solution/Action Slides (id >= 7)
            {
                id: 7,
                title: "The Foundation: Cloud & Interoperability",
                subtitle: "Building a **connected** and **resilient** system.",
                icon: "Lightbulb",
                points: [
                    "**API-First Strategy**: Utilizing **FHIR** (Fast Healthcare Interoperability Resources) for secure, standard data exchange.",
                    "**Cloud Migration**: Shifting to scalable, secure cloud platforms (**AWS, Azure, GCP**) for elastic compute and storage.",
                    "**Data Warehousing**: Creating centralized, standardized data lakes for analytics across the entire health system.",
                    "**Digital Front Door**: Implementing patient portals and mobile apps for seamless scheduling and communication."
                ],
                color: 'text-green-600'
            },
            {
                id: 8,
                title: "AI in Clinical Decision Support",
                subtitle: "Leveraging **machine learning** for better outcomes.",
                icon: "Lightbulb",
                points: [
                    "**Predictive Diagnostics**: AI algorithms analyzing imaging (radiology) and pathology to flag anomalies earlier.",
                    "**Personalized Treatment**: Using patient genomic data and ML to tailor drug dosages and therapies (**Precision Medicine**).",
                    "**Triage Automation**: AI models prioritizing high-risk patients in the emergency department or primary care.",
                    "**Drug Discovery Acceleration**: Using ML to simulate molecular interactions, reducing R&D cycle time by years."
                ],
                color: 'text-indigo-600'
            },
            {
                id: 9,
                title: "The Remote Care Revolution",
                subtitle: "Expanding access through **Telehealth** and **Monitoring**.",
                icon: "Lightbulb",
                points: [
                    "**Virtual Visits**: Replacing non-emergency in-person appointments with high-quality video consultations.",
                    "**Remote Patient Monitoring (RPM)**: Using wearable devices and IoT sensors to track vitals (BP, glucose) in real-time.",
                    "**Asynchronous Care**: Secure messaging and chat-based consultations for routine questions, saving clinician time.",
                    "**Specialist Outreach**: Tele-ICU and Tele-Stroke programs connecting rural hospitals to top-tier specialists instantly."
                ],
                color: 'text-blue-600'
            },
            {
                id: 10,
                title: "Automating the Back Office",
                subtitle: "Freeing up staff with **RPA** and **Generative AI**.",
                icon: "Lightbulb",
                points: [
                    "**Robotic Process Automation (RPA)**: Automating repetitive tasks like insurance verification and claims processing.",
                    "**Generative AI for Notes**: AI drafting initial clinical notes and summaries based on patient-physician conversations.",
                    "**Supply Chain Optimization**: Using data analytics to predict demand and manage medical supplies more efficiently.",
                    "**Billing & Coding**: AI models analyzing documentation to ensure accurate and compliant medical coding."
                ],
                color: 'text-green-700'
            }
        ];

        let currentSlideIndex = 0;
        const totalSlides = slides.length;

        // 4. Utility Functions: Bolding
        /**
         * Finds **...** and wraps content with an accent-colored, bolded span.
         * @param {string} text - The bullet point text.
         * @param {string} colorClass - The Tailwind text color class for the slide.
         * @returns {string} The HTML string with bolding applied.
         */
        function processPointText(text, colorClass) {
            // Regex to find **...** and capture the content inside
            const regex = /\*\*(.*?)\*\*/g;
            // Replacement function: captures the bolded text and wraps it in a span
            const replacedText = text.replace(regex, (match, p1) => {
                return `<span class="font-semibold ${colorClass}">${p1}</span>`;
            });
            return replacedText;
        }

        // 4. Utility Functions: Icons
        /**
         * Returns the SVG markup for a given icon.
         * Includes only the necessary Lucide-React equivalent paths.
         * @param {string} iconName - The name of the icon (TrendingDown, Lightbulb, ClipboardCheck).
         * @param {string} classes - Tailwind classes for the SVG element.
         * @returns {string} The complete SVG markup.
         */
        function getIconSVG(iconName, classes) {
            let path = "";
            let viewBox = "0 0 24 24";

            switch (iconName) {
                case "TrendingDown":
                    // Path for Lucide TrendingDown
                    path = `M18 17l-5.63-5.63c-.14-.14-.38-.14-.52 0L8 14l-4 4M18 17h-3M18 17V14M13.63 11.37l-1.9-1.9-4.88 4.88`;
                    break;
                case "Lightbulb":
                    // Path for Lucide Lightbulb
                    path = `M12 2c4.42 0 8 3.58 8 8 0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.42 3.58-8 8-8zm0 14a6 6 0 0 0 6-6c0-3.31-2.69-6-6-6s-6 2.69-6 6a6 6 0 0 0 6 6zm0 2v3h-2v-3h4v3h-2v-3z`;
                    break;
                case "ClipboardCheck":
                    // Path for Lucide ClipboardCheck
                    path = `M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2M12 2v2M8 2v2M10 9l3 3 5-5M10 9l-3 3 5-5`;
                    break;
                default:
                    return "";
            }

            return `
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="${viewBox}" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${classes}">
                    <path d="${path}"/>
                </svg>
            `;
        }


        // 4. JavaScript Rendering and Utility Functions: Render Slide
        /**
         * Renders the current slide content into the presentation card.
         */
        function renderSlide() {
            const slide = slides[currentSlideIndex];
            const presentationCard = document.getElementById('presentation-card');
            const colorClass = slide.color;

            // 3. Conditional Theming Rules
            let mainBgClass = 'bg-white';
            let pointsBgClass = 'bg-gray-100';
            let borderColorClass = 'border-gray-300';

            // Solution/Action Slides (id >= 7)
            if (slide.id >= 7) {
                mainBgClass = 'bg-green-50';
                pointsBgClass = 'bg-white';
                borderColorClass = 'border-green-400';
            }

            // Apply card-level classes (border and main background)
            presentationCard.className = `rounded-2xl shadow-2xl overflow-hidden border-4 ${borderColorClass} ${mainBgClass}`;

            // Generate HTML content for the slide
            const htmlContent = `
                <div class="h-full w-full flex flex-col lg:flex-row p-8 lg:p-16 rounded-2xl overflow-hidden">
                    
                    <div class="lg:w-1/3 w-full flex flex-col items-center text-center justify-center p-4 lg:p-8">
                        <div class="w-20 h-20 md:w-40 md:h-40 ${colorClass}">
                            ${getIconSVG(slide.icon, 'w-full h-full stroke-current')}
                        </div>
                        <h1 class="text-3xl md:text-5xl font-extrabold mt-4 text-gray-900 leading-tight">
                            ${slide.title}
                        </h1>
                        <p class="text-base md:text-xl mt-2 text-gray-600 font-medium">
                            ${processPointText(slide.subtitle, colorClass)}
                        </p>
                    </div>

                    <div class="lg:w-2/3 w-full flex items-center justify-center p-4 lg:p-8 mt-6 lg:mt-0">
                        <div class="w-full h-full p-4 md:p-8 rounded-xl shadow-inner ${pointsBgClass} flex flex-col justify-center">
                            <ul class="space-y-6 list-none p-0 m-0">
                                ${slide.points.map(point => `
                                    <li class="flex items-start space-x-3 text-gray-800 text-lg">
                                        <span class="flex-shrink-0 mt-1">
                                            ${getIconSVG("ClipboardCheck", `w-5 h-5 ${colorClass} fill-current`)}
                                        </span>
                                        <div>
                                            ${processPointText(point, colorClass)}
                                        </div>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `;
            
            presentationCard.innerHTML = htmlContent;
            updateUI();
        }

        // 5. Interactivity and Navigation
        /**
         * Updates the navigation button states and slide indicator text.
         */
        function updateUI() {
            document.getElementById('prev-btn').disabled = currentSlideIndex === 0;
            document.getElementById('next-btn').disabled = currentSlideIndex === totalSlides - 1;
            document.getElementById('slide-indicator').textContent = `Slide ${currentSlideIndex + 1} of ${totalSlides}`;
        }

        /**
         * Manages currentSlideIndex based on direction.
         * @param {string} direction - 'prev' or 'next'.
         */
        function navigate(direction) {
            if (direction === 'next' && currentSlideIndex < totalSlides - 1) {
                currentSlideIndex++;
            } else if (direction === 'prev' && currentSlideIndex > 0) {
                currentSlideIndex--;
            }
            renderSlide();
        }

        // Initialize listeners
        document.getElementById('prev-btn').addEventListener('click', () => navigate('prev'));
        document.getElementById('next-btn').addEventListener('click', () => navigate('next'));

        // Keyboard Navigation
        document.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowRight') {
                navigate('next');
            } else if (event.key === 'ArrowLeft') {
                navigate('prev');
            }
        });

        // 6. Image Export Feature (CRITICAL)
        let isScriptLoaded = false;
        const exportBtn = document.getElementById('export-btn');

        /**
         * Dynamically loads the html2canvas library.
         */
        function initExportScript() {
            const script = document.createElement('script');
            script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js';
            script.onload = () => {
                isScriptLoaded = true;
                // Update UI: enable the export button
                exportBtn.disabled = false;
                console.log('html2canvas loaded successfully.');
            };
            document.head.appendChild(script);
        }

        /**
         * Captures the presentation card and triggers a PNG download.
         */
        function exportCard() {
            if (!isScriptLoaded || typeof html2canvas === 'undefined') {
                console.error('html2canvas is not loaded.');
                return;
            }

            const cardElement = document.getElementById('presentation-card');
            // Temporarily disable button to prevent double-click or accidental capture during processing
            exportBtn.disabled = true;

            html2canvas(cardElement, { 
                scale: 3, // Increased scale for higher resolution export
                allowTaint: true,
                useCORS: true 
            }).then(canvas => {
                // Get the image data as a PNG
                const image = canvas.toDataURL('image/png');
                
                // Create a temporary link element to trigger the download
                const link = document.createElement('a');
                link.href = image;
                link.download = `healthcare-slide-${currentSlideIndex + 1}.png`;
                
                // Programmatically click the link
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // Re-enable the button
                exportBtn.disabled = false;
            }).catch(error => {
                console.error('Error during image export:', error);
                exportBtn.disabled = false;
            });
        }

        exportBtn.addEventListener('click', exportCard);

        // Initial setup calls
        initExportScript();
        renderSlide();
    </script>
</body>
</html>
